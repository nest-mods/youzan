{"3.0.0":{"requestUrls":[{"type":"服务商接入","url":"https://open.youzan.com/api/oauthentry/youzan.retail.product.offline/3.0.0/update"},{"type":"商家自有接入","url":"https://open.youzan.com/api/entry/youzan.retail.product.offline/3.0.0/update"}],"requestParams":[{"name":"all_batch_operate","type":"Number","example":"","defaultValue":"","isRequired":"否","desc":"是否全量上下架状态\n-1 未选择 默认\n 0 下架\n1 上架","isStruct":false,"structUrl":null,"struct":null},{"name":"category_id","type":"Number","example":"","defaultValue":"","isRequired":"否","desc":"分类id：单个销售商品使用关联的商品库商品的分类 组合销售 用户自己选择关联的分类","isStruct":false,"structUrl":null,"struct":null},{"name":"combine_params","type":"OfflineCombineParam[]","example":"","defaultValue":"","isRequired":"否","desc":"组合商品关联关系","isStruct":true,"structUrl":"/web/apiParamStruct/OfflineCombineParam","struct":{"name":"OfflineCombineParam[]","type":"OfflineCombineParam[]","isStruct":true,"desc":"","example":null,"creator":null,"children":[{"name":"related_combine_num","type":"Number","isStruct":false,"desc":"子商品 捆绑数量 (最大为100000,最少为0.1,支持两位小数,实际传输值*100)","example":null,"creator":null,"children":[]},{"name":"related_combine_price","type":"Number","isStruct":false,"desc":"子商品分摊价格 （范围：0-9999999元 单位：分）","example":null,"creator":null,"children":[]},{"name":"related_combine_sku_id","type":"Number","isStruct":false,"desc":"组合商品子商品商品库商品id","example":null,"creator":null,"children":[]}]}},{"name":"display","type":"Number","example":"","defaultValue":"","isRequired":"是","desc":"是否上架（1上架，0下架）","isStruct":false,"structUrl":null,"struct":null},{"name":"goods_no","type":"String","example":"","defaultValue":"","isRequired":"否","desc":"商品编码\n组合商品生效  单个销售商品使用关联的商品库商品 spuNo","isStruct":false,"structUrl":null,"struct":null},{"name":"item_id","type":"Number","example":"","defaultValue":"","isRequired":"是","desc":"门店商品id","isStruct":false,"structUrl":null,"struct":null},{"name":"measurement","type":"Number","example":"计量方式：0表示非称重，10表示称重","defaultValue":"","isRequired":"是","desc":"计量方式（0表示非称重，10表示称重）","isStruct":false,"structUrl":null,"struct":null},{"name":"name","type":"String","example":"","defaultValue":"","isRequired":"否","desc":"门店商品名称","isStruct":false,"structUrl":null,"struct":null},{"name":"photo_url","type":"String","example":"","defaultValue":"","isRequired":"否","desc":"图片地址（例如：[{\"url\":\"upload_files/2016/05/16/FjvGju7UwGfol_yAXK3RzxOGelt0.png\",\"id\":\"642430978\",\"width\":\"300\",\"height\":\"299\"},{\"url\":\"upload_files/2016/05/20/FgNkCcgqoGd_fMDPPCas1UIX3aCM.jpg\",\"id\":\"644360875\",\"width\":\"640\",\"height\"）","isStruct":false,"structUrl":null,"struct":null},{"name":"relate_sku__id","type":"Number","example":"","defaultValue":"","isRequired":"否","desc":"本次关联的商品库商品id","isStruct":false,"structUrl":null,"struct":null},{"name":"retail_price","type":"Number","example":"","defaultValue":"","isRequired":"是","desc":"零售价（最小为1分，最大为999999900分。单位：分）","isStruct":false,"structUrl":null,"struct":null},{"name":"sale_down_kdt_ids","type":"Number[]","example":"","defaultValue":"","isRequired":"否","desc":"下架分店id(连锁版生效)","isStruct":false,"structUrl":null,"struct":null},{"name":"sale_up_kdt_ids","type":"Number[]","example":"","defaultValue":"","isRequired":"否","desc":"上架分店id(连锁版生效)","isStruct":false,"structUrl":null,"struct":null},{"name":"sell_stock_count","type":"Number","example":"","defaultValue":"","isRequired":"否","desc":"销售库存\n组合商品需要传计算后的可售库存","isStruct":false,"structUrl":null,"struct":null},{"name":"sell_type","type":"Number","example":"","defaultValue":"","isRequired":"否","desc":"销售类型：1单个销售，2组合销售","isStruct":false,"structUrl":null,"struct":null},{"name":"source","type":"String","example":"OPEN_BACK_END","defaultValue":"","isRequired":"是","desc":"请求来源（需调用方自定义标识：OPEN_XXXX）","isStruct":false,"structUrl":null,"struct":null},{"name":"specifications","type":"String","example":"","defaultValue":"","isRequired":"否","desc":"规格定义 组合商品需要用户自己填写","isStruct":false,"structUrl":null,"struct":null},{"name":"spu_id","type":"Number","example":"","defaultValue":"","isRequired":"否","desc":"最新关联商品库的spu_id","isStruct":false,"structUrl":null,"struct":null},{"name":"stocks","type":"OfflineStock[]","example":"","defaultValue":"","isRequired":"否","desc":"门店商品sku定义","isStruct":true,"structUrl":"/web/apiParamStruct/OfflineStock","struct":{"name":"OfflineStock[]","type":"OfflineStock[]","isStruct":true,"desc":"","example":null,"creator":null,"children":[{"name":"max_guide_price","type":"Number","isStruct":false,"desc":"建议指导价上限","example":null,"creator":null,"children":[]},{"name":"min_guide_price","type":"Number","isStruct":false,"desc":"建议指导价下限","example":null,"creator":null,"children":[]},{"name":"price","type":"Number","isStruct":false,"desc":"零售价(零售价最大为999999900分，零售价最小为1分)，单位：分","example":null,"creator":null,"children":[]},{"name":"related_item_id","type":"Number","isStruct":false,"desc":"关联的商品库商品spuId","example":null,"creator":null,"children":[]},{"name":"related_sku_id","type":"Number","isStruct":false,"desc":"关联的商品库商品skuId","example":null,"creator":null,"children":[]},{"name":"sell_stock_count","type":"Number","isStruct":false,"desc":"可售库存","example":null,"creator":null,"children":[]},{"name":"sku_id","type":"Number","isStruct":false,"desc":"门店商品规格id 更新时回传","example":null,"creator":null,"children":[]},{"name":"specs","type":"SpecKeyValue[]","isStruct":true,"desc":"","example":null,"creator":null,"children":[{"name":"k","type":"String","isStruct":false,"desc":"规格属性名称","example":null,"creator":null,"children":[]},{"name":"kId","type":"Number","isStruct":false,"desc":"规格属性id","example":null,"creator":null,"children":[]},{"name":"v","type":"String","isStruct":false,"desc":"规格值名称","example":null,"creator":null,"children":[]},{"name":"vId","type":"Number","isStruct":false,"desc":"规格值id","example":null,"creator":null,"children":[]}]}]}},{"name":"unit","type":"String","example":"","defaultValue":"","isRequired":"否","desc":"商品单位\n组合商品生效  单个销售商品使用关联的商品库商品的单位","isStruct":false,"structUrl":null,"struct":null}],"responseParams":[{"name":"update_result","type":"Boolean","isRequired":"否","desc":"是否编辑成功","isStruct":false,"structUrl":null,"struct":{"name":"update_result","type":"Boolean","isNeed":"true","desc":"是否编辑成功","defaultValue":null,"example":null,"isStruct":false,"children":null}}],"requestDemos":[{"lang":"java","code":"YZClient client = new DefaultYZClient(new Token(\"token\")); //new Sign(appKey, appSecret)\nYouzanRetailProductOfflineUpdateParams youzanRetailProductOfflineUpdateParams = new YouzanRetailProductOfflineUpdateParams();\n\nyouzanRetailProductOfflineUpdateParams.setSource(\"test\");\nyouzanRetailProductOfflineUpdateParams.setSpuId(426441602L);\nyouzanRetailProductOfflineUpdateParams.setRetailPrice(300L);\nyouzanRetailProductOfflineUpdateParams.setPhotoUrl(\"[{\"url\":\"https://img.yzcdn.cn/public_files/2017/08/30/63a8d28bce4ca2e5d081e1e69926288e.jpg\"}]\");\nyouzanRetailProductOfflineUpdateParams.setName(\"测试发布门店商品-修改\");\nyouzanRetailProductOfflineUpdateParams.setMeasurement(10L);\nyouzanRetailProductOfflineUpdateParams.setItemId(426393566L);\nyouzanRetailProductOfflineUpdateParams.setDisplay(0L);\nyouzanRetailProductOfflineUpdateParams.setGoodsNo(\"P180727265570959\");\nyouzanRetailProductOfflineUpdateParams.setSellType(1L);\nyouzanRetailProductOfflineUpdateParams.setStocks(\"[{\"related_sku_id\":7053780,\"specs\":[{\"k\":\"颜色\",\"k_id\":1,\"v\":\"蓝色\",\"v_id\":\"3\"}],\"sku_no\":\"P180727181095108\",\"related_itemId\":426441602,\"price\":300},{\"related_sku_id\":7053781,\"specs\":[{\"k\":\"颜色\",\"k_id\":1,\"v\":\"黄色\",\"v_id\":\"353\"}],\"sku_no\":\"P180727736209346\",\"price\":12300}]\");\n\nYouzanRetailProductOfflineUpdate youzanRetailProductOfflineUpdate = new YouzanRetailProductOfflineUpdate();\nyouzanRetailProductOfflineUpdate.setAPIParams(youzanRetailProductOfflineUpdateParams);\nYouzanRetailProductOfflineUpdateResult result = client.invoke(youzanRetailProductOfflineUpdate);"},{"lang":"csharp","code":"Auth auth = new Token(\"xxx\"); // Auth auth = new Sign(\"app_id\", \"app_secret\");\n\nYZClient yzClient = new DefaultYZClient(auth);\nDictionary<string, object> dict = new System.Collections.Generic.Dictionary<string, object>();\ndict.Add(\"source\", \"test\");\ndict.Add(\"spu_id\", 426441602);\ndict.Add(\"retail_price\", 300);\ndict.Add(\"photo_url\", \"[{\"url\":\"https://img.yzcdn.cn/public_files/2017/08/30/63a8d28bce4ca2e5d081e1e69926288e.jpg\"}]\");\ndict.Add(\"name\", \"测试发布门店商品-修改\");\ndict.Add(\"measurement\", 10);\ndict.Add(\"item_id\", 426393566);\ndict.Add(\"display\", 0);\ndict.Add(\"goods_no\", \"P180727265570959\");\ndict.Add(\"sell_type\", 1);\ndict.Add(\"stocks\", \"[{\"related_sku_id\":7053780,\"specs\":[{\"k\":\"颜色\",\"k_id\":1,\"v\":\"蓝色\",\"v_id\":\"3\"}],\"sku_no\":\"P180727181095108\",\"related_itemId\":426441602,\"price\":300},{\"related_sku_id\":7053781,\"specs\":[{\"k\":\"颜色\",\"k_id\":1,\"v\":\"黄色\",\"v_id\":\"353\"}],\"sku_no\":\"P180727736209346\",\"price\":12300}]\");\n\n\nvar result = yzClient.Invoke(\"youzan.retail.product.offline.update\", \"3.0.0\", \"POST\", dict, null);\nConsole.WriteLine(result);\n"},{"lang":"php","code":"<?php\nrequire_once __DIR__ . '/lib/YZTokenClient.php';\n\n$token = 'fill your token';//请填入商家授权后获取的access_token\n$client = new YZTokenClient($token);\n\n$method = 'youzan.retail.product.offline.update'; //要调用的api名称\n$api_version = '3.0.0'; //要调用的api版本号\n\n$my_params = [\n    'source' => 'test',\n    'spu_id' => '426441602',\n    'retail_price' => '300',\n    'photo_url' => '[{\"url\":\"https://img.yzcdn.cn/public_files/2017/08/30/63a8d28bce4ca2e5d081e1e69926288e.jpg\"}]',\n    'name' => '测试发布门店商品-修改',\n    'measurement' => '10',\n    'item_id' => '426393566',\n    'display' => '0',\n    'goods_no' => 'P180727265570959',\n    'sell_type' => '1',\n    'stocks' => '[{\"related_sku_id\":7053780,\"specs\":[{\"k\":\"颜色\",\"k_id\":1,\"v\":\"蓝色\",\"v_id\":\"3\"}],\"sku_no\":\"P180727181095108\",\"related_itemId\":426441602,\"price\":300},{\"related_sku_id\":7053781,\"specs\":[{\"k\":\"颜色\",\"k_id\":1,\"v\":\"黄色\",\"v_id\":\"353\"}],\"sku_no\":\"P180727736209346\",\"price\":12300}]',\n];\n\n$my_files = [\n];\n\necho '<pre>';\nvar_dump(\n    $client->post($method, $api_version, $my_params, $my_files)\n);\necho '</pre>';"},{"lang":"python","code":"token = auth.Token(token='token') #auth.Sign(app_id='app_id', app_secret='app_secret')\n\nclient = YZClient(token)\n\nparams={}\n\nparams['source']=\"test\"\nparams['spu_id']=426441602\nparams['retail_price']=300\nparams['photo_url']=\"[{\"url\":\"https://img.yzcdn.cn/public_files/2017/08/30/63a8d28bce4ca2e5d081e1e69926288e.jpg\"}]\"\nparams['name']=\"测试发布门店商品-修改\"\nparams['measurement']=10\nparams['item_id']=426393566\nparams['display']=0\nparams['goods_no']=\"P180727265570959\"\nparams['sell_type']=1\nparams['stocks']=\"[{\"related_sku_id\":7053780,\"specs\":[{\"k\":\"颜色\",\"k_id\":1,\"v\":\"蓝色\",\"v_id\":\"3\"}],\"sku_no\":\"P180727181095108\",\"related_itemId\":426441602,\"price\":300},{\"related_sku_id\":7053781,\"specs\":[{\"k\":\"颜色\",\"k_id\":1,\"v\":\"黄色\",\"v_id\":\"353\"}],\"sku_no\":\"P180727736209346\",\"price\":12300}]\"\n\nfiles=[]\n\nprint client.invoke('youzan.retail.product.offline.update', '3.0.0', 'POST', params=params, files=files)\n"},{"lang":"nodejs","code":"var YZClient = require('yz-open-sdk-nodejs');\nvar Token = require('./node_modules/yz-open-sdk-nodejs/Token');\n\nvar YZClient = new YZClient(new Token('xxxx')); // var YZClient = new YZClient(new Sign('app_id', 'app_secret'));\n\nparams={};\n\nparams['source']=\"test\";\nparams['spu_id']=426441602;\nparams['retail_price']=300;\nparams['photo_url']=\"[{\"url\":\"https://img.yzcdn.cn/public_files/2017/08/30/63a8d28bce4ca2e5d081e1e69926288e.jpg\"}]\";\nparams['name']=\"测试发布门店商品-修改\";\nparams['measurement']=10;\nparams['item_id']=426393566;\nparams['display']=0;\nparams['goods_no']=\"P180727265570959\";\nparams['sell_type']=1;\nparams['stocks']=\"[{\"related_sku_id\":7053780,\"specs\":[{\"k\":\"颜色\",\"k_id\":1,\"v\":\"蓝色\",\"v_id\":\"3\"}],\"sku_no\":\"P180727181095108\",\"related_itemId\":426441602,\"price\":300},{\"related_sku_id\":7053781,\"specs\":[{\"k\":\"颜色\",\"k_id\":1,\"v\":\"黄色\",\"v_id\":\"353\"}],\"sku_no\":\"P180727736209346\",\"price\":12300}]\";\n\n\nvar promise = YZClient.invoke('youzan.retail.product.offline.update', '3.0.0', 'POST', params, undefined);\n\npromise.then(function(resp) {\n    console.log('resp: ' + resp.body);\n    var data = JSON.parse(resp.body);\n    console.log(data);\n}, function(err) {\n    console.log('err: ' + err);\n}, function(prog) {\n    console.log('prog: ' + prog);\n});\n"}],"errorCodes":null,"responseDemo":"{\"response\":true}","errorResponseDemo":"{\"error_response\":{\"msg\":\"门店关联商品库商品结构变更，请刷新后重试\",\"code\":22140017}}"},"name":"update","ids":[8941],"scenarios":"编辑门店商品  source字段每种来源固定值","version":["3.0.0"],"desc":"编辑门店商品"}