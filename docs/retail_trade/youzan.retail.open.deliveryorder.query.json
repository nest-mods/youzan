{"3.0.0":{"requestUrls":[{"type":"服务商接入","url":"https://open.youzan.com/api/oauthentry/youzan.retail.open.deliveryorder/3.0.0/query"},{"type":"商家自有接入","url":"https://open.youzan.com/api/entry/youzan.retail.open.deliveryorder/3.0.0/query"}],"requestParams":[{"name":"create_time_end","type":"String","example":"2018-10-10 17:00:00","defaultValue":"","isRequired":"否","desc":"结束创建时间","isStruct":false,"structUrl":null,"struct":null},{"name":"create_time_start","type":"String","example":"2018-10-10 17:00:00","defaultValue":"","isRequired":"否","desc":"开始创建时间","isStruct":false,"structUrl":null,"struct":null},{"name":"order_no","type":"String","example":"","defaultValue":"","isRequired":"否","desc":"订单号（如果订单号不为空，其他条件失效）","isStruct":false,"structUrl":null,"struct":null},{"name":"page_no","type":"Number","example":"1","defaultValue":"","isRequired":"否","desc":"页码,page_no从1开始","isStruct":false,"structUrl":null,"struct":null},{"name":"page_size","type":"Number","example":"20","defaultValue":"","isRequired":"否","desc":"每页记录数，page_size默认20，最大也是20","isStruct":false,"structUrl":null,"struct":null},{"name":"retail_source","type":"String","example":"","defaultValue":"","isRequired":"是","desc":"零售调用来源(调用方和有赞约定的值)","isStruct":false,"structUrl":null,"struct":null},{"name":"status","type":"String","example":"WAIT_DELIVER","defaultValue":"","isRequired":"否","desc":"发货单状态\nWAIT_DELIVER：待发货或待核销\nDELIVERED：已发货或已核销\nNO_NEED_TO_DELIVER：无需发货","isStruct":false,"structUrl":null,"struct":null},{"name":"update_time_end","type":"String","example":"2018-10-10 17:00:00","defaultValue":"","isRequired":"否","desc":"结束更新时间","isStruct":false,"structUrl":null,"struct":null},{"name":"update_time_start","type":"String","example":"2018-10-10 17:00:00","defaultValue":"","isRequired":"否","desc":"开始更新时间","isStruct":false,"structUrl":null,"struct":null}],"responseParams":[{"name":"delivery_orders","type":"OpenDeliveryOrderDTO[]","isRequired":"否","desc":"发货单列表","isStruct":true,"structUrl":"/web/meta/OpenDeliveryOrderDTO","struct":{"name":"delivery_orders","type":"OpenDeliveryOrderDTO[]","isNeed":"true","desc":"发货单列表","defaultValue":null,"example":null,"isStruct":true,"children":[{"name":"delivery_order_no","type":"String","isNeed":null,"desc":"发货单号","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"warehouse_code","type":"String","isNeed":null,"desc":"仓库编码","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"create_time","type":"String","isNeed":null,"desc":"创建日期","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"remark","type":"String","isNeed":null,"desc":"备注","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"status","type":"String","isNeed":null,"desc":"发货单状态：\nWAIT_DELIVER=待发货或待核销\nDELIVERED=已发货或已核销\nNO_NEED_TO_DELIVER=无需发货","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"sale_way","type":"String","isNeed":null,"desc":"销售渠道：\nALL_SALE_WAY=所有销售渠道\nONLINE=网店\nOFFLINE=门店","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"dist_type","type":"String","isNeed":null,"desc":"配送方式：\nEXPRESS=快递\nLOCAL_DELIVERY=同城送\nSELF_FETCH=自提","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"receiver_info","type":"OpenReceiverInfoDTO","isNeed":null,"desc":"收件人信息","defaultValue":null,"example":null,"isStruct":true,"children":[{"name":"province","type":"String","isNeed":null,"desc":"省","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"city","type":"String","isNeed":null,"desc":"市","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"area","type":"String","isNeed":null,"desc":"区","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"detail_address","type":"String","isNeed":null,"desc":"详细地址","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"mobile","type":"String","isNeed":null,"desc":"移动电话","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"tel","type":"String","isNeed":null,"desc":"固定电话","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"name","type":"String","isNeed":null,"desc":"姓名","defaultValue":null,"example":null,"isStruct":false,"children":[]}]},{"name":"refund_infos","type":"OpenRefundInfoDTO[]","isNeed":null,"desc":"退款单信息","defaultValue":null,"example":null,"isStruct":true,"children":[{"name":"refund_no","type":"String","isNeed":null,"desc":"退款单号","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"create_time","type":"String","isNeed":null,"desc":"退款申请时间","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"refund_type","type":"String","isNeed":null,"desc":"退款类型:\nBUYER_APPLY_REFUND=买家申请退款\nSELLER_REFUND=商家主动退款 \nSYSTEM_REFUND=一键退款，特殊类型退款","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"refund_demand","type":"String","isNeed":null,"desc":"退货诉求:\nREFUND_ONLY=仅退款 \nREFUND_RETURN_GOODS=退货退款","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"refund_fee","type":"String","isNeed":null,"desc":"退款金额","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"refund_status","type":"String","isNeed":null,"desc":"退款状态:\nREFUND_WAIT_SELLER_AGREE=买家已经申请退款，等待卖家同意 \nREFUND_SELLER_REFUSE_BUYER=卖家拒绝退款 \nREFUND_WAIT_BUYER_RETURN_GOODS=卖家已经同意退货，等待买家退货 \nREFUND_WAIT_SELLER_CONFIRM_GOODS=买家已经退货，等待卖家确认收货 \nREFUND_SELLER_REFUSE_RETURN_GOODS=卖家未收到货,拒绝退款 \nREFUND_CLOSED=退款关闭 REFUND_SUCCESS=退款成功","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"order_item_nos","type":"String[]","isNeed":null,"desc":"退款明细ID","defaultValue":null,"example":null,"isStruct":false,"children":[]}]},{"name":"order_items","type":"OpenOrderItemDTO[]","isNeed":null,"desc":"订单明细数据结构","defaultValue":null,"example":null,"isStruct":true,"children":[{"name":"delivery_order_no","type":"String","isNeed":null,"desc":"发货单号","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"order_item_no","type":"String","isNeed":null,"desc":"商品明细ID","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"sku_code","type":"String","isNeed":null,"desc":"商品编码","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"product_name","type":"String","isNeed":null,"desc":"商品名称","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"sku_no","type":"String","isNeed":null,"desc":"商品条码","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"unit","type":"String","isNeed":null,"desc":"单位","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"quantity","type":"String","isNeed":null,"desc":"出库数量","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"output_tax_rate","type":"String","isNeed":null,"desc":"销项税率","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"sales_price","type":"String","isNeed":null,"desc":"含税销售单价（定价，直接销售的价格）","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"real_sales_price","type":"String","isNeed":null,"desc":"单个商品实付金额，已减去均摊的订单优惠","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"item_type","type":"Number","isNeed":null,"desc":"商品类型  \n0:普通类型商品; 1:拍卖商品; 5:餐饮商品; 10:分销商品; 20:会员卡商品; 21:礼品卡商品; 23:有赞会议商品; 24:周期购; 30:收银台商品; 31:知识付费商品; 35:酒店商品; 40:普通服务类商品; 182:普通虚拟商品; 183:电子卡券商品; 201:外部会员卡商品; 202:外部直接收款商品; 203:外部普通商品; 205:mock不存在商品; 206:小程序二维码","defaultValue":null,"example":null,"isStruct":false,"children":[]}]},{"name":"sales_amount","type":"String","isNeed":null,"desc":"发货单整单金额，未计任何优惠，未计邮费","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"postage","type":"String","isNeed":null,"desc":"发货单实付邮费","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"real_sales_amount","type":"String","isNeed":null,"desc":"单个条目实付金额，包含邮费","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"order_no","type":"String","isNeed":null,"desc":"订单号","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"pay_type","type":"Number","isNeed":null,"desc":"支付类型：\n0=老的方式,支付方式与支付渠道组合在一起\n1=无需支付\n2=现付\n3=部分支付\n4=货到付款\n5=线下收银\n6=单次支付\n7=阶段支付","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"buyer_info","type":"OpenBuyerInfoDTO","isNeed":null,"desc":"买家信息","defaultValue":null,"example":null,"isStruct":true,"children":[{"name":"buyer_phone","type":"String","isNeed":null,"desc":"买家手机号","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"fans_nickname","type":"String","isNeed":null,"desc":"粉丝名称","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"buyer_remark","type":"String","isNeed":null,"desc":"买家留言","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"buyer_id","type":"Number","isNeed":null,"desc":"买家Id","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"buyer_name","type":"String","isNeed":null,"desc":"买家名字","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"is_member","type":"Boolean","isNeed":null,"desc":"是否是会员","defaultValue":null,"example":null,"isStruct":false,"children":[]}]},{"name":"warehouse_name","type":"String","isNeed":null,"desc":"仓库名称","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"cashier_info","type":"OpenCashierInfoDTO","isNeed":null,"desc":"收银信息","defaultValue":null,"example":null,"isStruct":true,"children":[{"name":"cashier_id","type":"String","isNeed":null,"desc":"收银员id","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"cashier_name","type":"String","isNeed":null,"desc":"收银员名字","defaultValue":null,"example":null,"isStruct":false,"children":[]}]},{"name":"pay_way","type":"String","isNeed":null,"desc":"支付方式:\n0:默认值 1:微信自有支付 2:支付宝 3:银联银行卡 4:财付通银行卡 5:银行卡 6:找人代付 7:联动U付银行卡 8:货到付款 9:微信安全支付-代销 10:百度支付银行卡 11:合并付货款 12:领取赠品 13:优惠兑换 14:自动付货款 15:爱学贷 16:微信红包支付 17:返利 18:ump红包 19:payza支付 20:易宝支付银行卡 21:paypal 22:qq支付 23:有赞E卡-代销 24:储值余额付款 25:礼品卡支付 26:分销商余额支付 27:信用卡银联支付 28:储蓄卡银联支付 29:代收账户 30:储值账户 31:保证金账户 32:收款码 33:微信 34:刷卡 35:二维码台卡 36:储值卡 37:有赞E卡 38:标记收款-自有微信支付 39:标记收款-自有支付宝 40:标记收款-自有POS刷卡 41:通联刷卡支付 42:记账账户 43:现金支付 44:组合支付 114:自定义标记付款(具体名称见pay_way_desc);","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"pay_way_desc","type":"String","isNeed":null,"desc":"支付方式的描述","defaultValue":null,"example":null,"isStruct":false,"children":[]}]}},{"name":"paginator","type":"OpenPaginatorDTO","isRequired":"否","desc":"分页参数","isStruct":true,"structUrl":"/web/meta/OpenPaginatorDTO","struct":{"name":"paginator","type":"OpenPaginatorDTO","isNeed":"true","desc":"分页参数","defaultValue":null,"example":null,"isStruct":true,"children":[{"name":"page","type":"Number","isNeed":null,"desc":"页码","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"page_size","type":"Number","isNeed":null,"desc":"分页大小","defaultValue":null,"example":null,"isStruct":false,"children":[]},{"name":"total_count","type":"Number","isNeed":null,"desc":"总数","defaultValue":null,"example":null,"isStruct":false,"children":[]}]}}],"requestDemos":[{"lang":"java","code":"YZClient client = new DefaultYZClient(new Token(\"token\")); //new Sign(appKey, appSecret)\nYouzanRetailOpenDeliveryorderQueryParams youzanRetailOpenDeliveryorderQueryParams = new YouzanRetailOpenDeliveryorderQueryParams();\n\nyouzanRetailOpenDeliveryorderQueryParams.setRetailSource(\"GUANYIYUN\");\nyouzanRetailOpenDeliveryorderQueryParams.setCreateTimeStart(\"2019-01-28 18:00:00\");\nyouzanRetailOpenDeliveryorderQueryParams.setCreateTimeEnd(\"2019-01-28 20:10:00\");\n\nYouzanRetailOpenDeliveryorderQuery youzanRetailOpenDeliveryorderQuery = new YouzanRetailOpenDeliveryorderQuery();\nyouzanRetailOpenDeliveryorderQuery.setAPIParams(youzanRetailOpenDeliveryorderQueryParams);\nYouzanRetailOpenDeliveryorderQueryResult result = client.invoke(youzanRetailOpenDeliveryorderQuery);"},{"lang":"csharp","code":"Auth auth = new Token(\"xxx\"); // Auth auth = new Sign(\"app_id\", \"app_secret\");\n\nYZClient yzClient = new DefaultYZClient(auth);\nDictionary<string, object> dict = new System.Collections.Generic.Dictionary<string, object>();\ndict.Add(\"retail_source\", \"GUANYIYUN\");\ndict.Add(\"create_time_start\", \"2019-01-28 18:00:00\");\ndict.Add(\"create_time_end\", \"2019-01-28 20:10:00\");\n\n\nvar result = yzClient.Invoke(\"youzan.retail.open.deliveryorder.query\", \"3.0.0\", \"POST\", dict, null);\nConsole.WriteLine(result);\n"},{"lang":"python","code":"token = auth.Token(token='token') #auth.Sign(app_id='app_id', app_secret='app_secret')\n\nclient = YZClient(token)\n\nparams={}\n\nparams['retail_source']=\"GUANYIYUN\"\nparams['create_time_start']=\"2019-01-28 18:00:00\"\nparams['create_time_end']=\"2019-01-28 20:10:00\"\n\nfiles=[]\n\nprint client.invoke('youzan.retail.open.deliveryorder.query', '3.0.0', 'POST', params=params, files=files)\n"},{"lang":"nodejs","code":"var YZClient = require('yz-open-sdk-nodejs');\nvar Token = require('./node_modules/yz-open-sdk-nodejs/Token');\n\nvar YZClient = new YZClient(new Token('xxxx')); // var YZClient = new YZClient(new Sign('app_id', 'app_secret'));\n\nparams={};\n\nparams['retail_source']=\"GUANYIYUN\";\nparams['create_time_start']=\"2019-01-28 18:00:00\";\nparams['create_time_end']=\"2019-01-28 20:10:00\";\n\n\nvar promise = YZClient.invoke('youzan.retail.open.deliveryorder.query', '3.0.0', 'POST', params, undefined);\n\npromise.then(function(resp) {\n    console.log('resp: ' + resp.body);\n    var data = JSON.parse(resp.body);\n    console.log(data);\n}, function(err) {\n    console.log('err: ' + err);\n}, function(prog) {\n    console.log('prog: ' + prog);\n});\n"},{"lang":"php","code":"<?php\nrequire_once __DIR__ . '/lib/YZTokenClient.php';\n\n$token = 'fill your token';//请填入商家授权后获取的access_token\n$client = new YZTokenClient($token);\n\n$method = 'youzan.retail.open.deliveryorder.query'; //要调用的api名称\n$api_version = '3.0.0'; //要调用的api版本号\n\n$my_params = [\n    'retail_source' => 'GUANYIYUN',\n    'create_time_start' => '2019-01-28 18:00:00',\n    'create_time_end' => '2019-01-28 20:10:00',\n];\n\n$my_files = [\n];\n\necho '<pre>';\nvar_dump(\n    $client->post($method, $api_version, $my_params, $my_files)\n);\necho '</pre>';\n"}],"errorCodes":[{"errorCode":"234000003","errorDesc":"状态不合法","solution":null},{"errorCode":"234000006","errorDesc":"送货单单据号和单据列表不一致","solution":null}],"responseDemo":"{\"response\":{\"delivery_orders\":[{\"order_no\":\"E20190128195138076800001\",\"cashier_info\":{\"cashier_id\":\"693290353\",\"cashier_name\":\"13456883422\"},\"create_time\":\"2019-01-28 19:51:39\",\"warehouse_code\":\"subing2test1\",\"buyer_info\":{\"buyer_remark\":\"\",\"is_member\":false,\"buyer_id\":1792,\"fans_nickname\":\"\"},\"sales_amount\":\"12\",\"real_sales_amount\":\"12\",\"delivery_order_no\":\"201901281951390000010000\",\"pay_way\":114,\"pay_way_desc\":\"标记付款-哈哈\",\"postage\":\"0\",\"order_create_time\":\"2019-01-28 19:51:38\",\"warehouse_name\":\"一号分店\",\"dist_type\":\"TYPE_ALL\",\"pay_type\":5,\"sale_way\":\"OFFLINE\",\"receiver_info\":{\"area\":\"\",\"province\":\"\",\"city\":\"\",\"detail_address\":\"\",\"mobile\":\"\",\"name\":\"\"},\"order_items\":[{\"unit\":\"件\",\"quantity\":\"1\",\"sku_no\":\"P190110529337107\",\"real_sales_price\":\"12\",\"item_type\":0,\"output_tax_rate\":\"0\",\"sales_price\":\"12\",\"order_item_no\":\"1496885459853246467\",\"delivery_order_no\":\"201901281951390000010000\",\"product_name\":\"冬瓜一米八\",\"sku_code\":\"BM9613846187\"}],\"status\":\"DELIVERED\"}],\"paginator\":{\"total_count\":1,\"page\":1,\"page_size\":20}}}","errorResponseDemo":"{\"error_response\":{\"msg\":\"结束创建时间和开始创建时间不能超过90天\",\"code\":234000003}}"},"name":"query","ids":[10637],"scenarios":"批量查询销售发货单","version":["3.0.0"],"desc":"批量查询销售发货单（仅适用于有赞连锁）"}